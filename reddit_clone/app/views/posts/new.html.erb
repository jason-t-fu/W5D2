
<%= flash.now[:errors] if flash.now[:errors] %>
<h1>Create New Post</h1>

<form action="<%= posts_url %>" method="POST">
  <%= render "shared/auth" %>
  <label>Title:  
    <input type="string" name="post[title]" value="<%= @post.title %>">
  </label>
  <label>URL: 
    <input type="string" name="post[url]" value="<%= @post.url %>">
  </label>
  <label>Content: 
    <input type="text" name="post[content]" value="<%= @post.content %>">
  </label>

  <input type="hidden" name="post[sub_ids][]" value="">
  <% Sub.all.each do |sub| %>
    <label><%= sub.title %>
      <input
        type="checkbox"
        value="<%= sub.id %>"
        name="post[sub_ids][]"
        <%= "checked" if @post.sub_ids.include?(sub.id) %>
      />
    </label>
  <% end %>

  <input type="submit" value="Create New Post">

</form>


<%= link_to 'Back', posts_path %>
